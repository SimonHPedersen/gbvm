<HTML>
<HEAD>
<TITLE>src/gc/main_debug4.cc</TITLE>
<META NAME='ROBOTS' CONTENT='NOINDEX,NOFOLLOW'>
<META NAME='GENERATOR' CONTENT='GLOBAL-4.0.1'>
<SCRIPT LANGUAGE=javascript>
<!--
self.defaultStatus = 'src/gc/main_debug4.cc'
<!-- end of script -->
</SCRIPT>
</HEAD>
<BODY>
<A NAME=TOP><H2>src/gc/main_debug4.cc</H2>
<I><FONT COLOR=green>/* [&lt;][&gt;]<A HREF=#8>[^]</A><A HREF=#25>[v]</A>[top]<A HREF=#BOTTOM>[bottom]</A><A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>
<HR>
<H2>DEFINITIONS</H2>
This source file includes following functions.
<OL>
<LI><A HREF=#8>Test_t</A>
<LI><A HREF=#25>main</A>
</OL>
<HR>
<PRE>
<I><FONT COLOR=green>//$Id: main_debug4.cc,v 1.2 2000/12/06 14:55:01 ilsoe Exp $</FONT></I>
<FONT COLOR=darkred>#include</FONT> &lt;stdlib.h&gt;
<FONT COLOR=darkred>#include</FONT> &lt;stdio.h&gt;
<FONT COLOR=darkred>#include</FONT> &lt;iostream.h&gt;

<FONT COLOR=darkred>#include</FONT> "garbage_collector.hpp"

<A NAME=8><B>class</B> <A HREF=../R/107.html>Test_t</A> <FONT COLOR=blue>{</FONT>
<I><FONT COLOR=green>/* [&lt;]<A HREF=#25>[&gt;]</A>[^]<A HREF=#25>[v]</A><A HREF=#TOP>[top]</A><A HREF=#BOTTOM>[bottom]</A><A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>
<B>public</B>:
  <B>void</B> *<B>operator</B> <B>new</B>(size_t size, <B>void</B> *freePointer) <FONT COLOR=blue>{</FONT>
    <B>return</B> freePointer;
  <FONT COLOR=blue>}</FONT>
  Test_t() <FONT COLOR=blue>{</FONT>

  <FONT COLOR=blue>}</FONT>
  <B>void</B> *a;
  <B>void</B> *b;
  <B>void</B> *c;
  <B>void</B> *d;
  <B>void</B> *e;
  <B>void</B> *f;
  <B>void</B> *g;
<FONT COLOR=blue>}</FONT>;

<A NAME=25><B>int</B> main(<B>int</B> argc, <B>char</B>** argv) <FONT COLOR=blue>{</FONT>
<I><FONT COLOR=green>/* <A HREF=#8>[&lt;]</A>[&gt;]<A HREF=#8>[^]</A>[v]<A HREF=#TOP>[top]</A><A HREF=#BOTTOM>[bottom]</A><A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>

  DB_ENABLE(gc_gc);
  DB_ENABLE(gc_mg);
  DB_ENABLE(gc_mg_heapdump);
  DB_ENABLE(gc_remset_dump);
  DB_ENABLE(gc_car);
  DB_ENABLE(gc_car_delete);
  DB_ENABLE(gc_vmo);
  DB_ENABLE(gc_vmo_dump_refs);
  <I><FONT COLOR=green>//DB_ENABLE(gc_vmo_mro_verb);</FONT></I>
  DB_ENABLE(gc_trn);
  DB_ENABLE(gc_objd);
  DB_ENABLE(gc_glob_setvmr);

<A NAME=40>  ObjectDescriptor_t *objDes = <B>new</B> <A HREF=../D/101.html>ObjectDescriptor_t</A>(300,0);
  
  <I><FONT COLOR=green>//objDes-&gt;print();</FONT></I>

<A NAME=44>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(0);
<A NAME=45>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(1);
<A NAME=46>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(2);
<A NAME=47>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(3);
<A NAME=48>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(4);
<A NAME=49>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(5);
<A NAME=50>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(6);
  
  <I><FONT COLOR=green>//objDes-&gt;print();</FONT></I>

  <I><FONT COLOR=green>// test 1 BYTES_IN_CAR should be 1024, 2 cars in train</FONT></I>
    
<A NAME=56>  VMObject_t *o0 = garbageCollector-&gt;<A HREF=../D/133.html>addRootObject</A>(objDes);
<A NAME=57>  Test_t     *t0 = <B>new</B> (o0-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=59>  VMObject_t *o1 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=60>  Test_t     *t1 = <B>new</B> (o1-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=62>  VMObject_t *o2 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=63>  Test_t     *t2 = <B>new</B> (o2-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=65>  VMObject_t *o3 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=66>  Test_t     *t3 = <B>new</B> (o3-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=68>  VMObject_t *o4 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=69>  Test_t     *t4 = <B>new</B> (o4-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=71>  VMObject_t *o5 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=72>  Test_t     *t5 = <B>new</B> (o5-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=74>  VMObject_t *o6 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=75>  Test_t     *t6 = <B>new</B> (o6-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=77>  VMObject_t *o7 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=78>  Test_t     *t7 = <B>new</B> (o7-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=80>  VMObject_t *o8 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=81>  Test_t     *t8 = <B>new</B> (o8-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
  <I><FONT COLOR=green>/* creating popular object */</FONT></I>
  <B>for</B>(<B>int</B> i = 0; i &lt; 100; i++) <FONT COLOR=blue>{</FONT>
  <FONT COLOR=blue>}</FONT>


<A NAME=88>  <A HREF=../D/339.html>setVMReference</A>(t0, &amp;(t0-&gt;a), t5);
<A NAME=89>  <A HREF=../D/339.html>setVMReference</A>(t1, &amp;(t1-&gt;a), t2);
<A NAME=90>  <A HREF=../D/339.html>setVMReference</A>(t2, &amp;(t2-&gt;a), t3);
<A NAME=91>  <A HREF=../D/339.html>setVMReference</A>(t3, &amp;(t3-&gt;a), t4);
<A NAME=92>  <A HREF=../D/339.html>setVMReference</A>(t4, &amp;(t4-&gt;a), t3);
<A NAME=93>  <A HREF=../D/339.html>setVMReference</A>(t5, &amp;(t5-&gt;a), t1);
<A NAME=94>  <A HREF=../D/339.html>setVMReference</A>(t5, &amp;(t5-&gt;b), t6);
<A NAME=95>  <A HREF=../D/339.html>setVMReference</A>(t7, &amp;(t7-&gt;a), t8);
<A NAME=96>  <A HREF=../D/339.html>setVMReference</A>(t8, &amp;(t8-&gt;a), t7);

  <I><FONT COLOR=green>/*</FONT></I>
<I><FONT COLOR=green>  setVMReference(t0, &amp;(t0-&gt;b), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t0, &amp;(t0-&gt;c), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t0, &amp;(t0-&gt;d), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t0, &amp;(t0-&gt;e), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t0, &amp;(t0-&gt;f), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t0, &amp;(t0-&gt;g), t1);</FONT></I>
<I><FONT COLOR=green></FONT></I>
<I><FONT COLOR=green>  setVMReference(t2, &amp;(t2-&gt;b), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t2, &amp;(t2-&gt;c), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t2, &amp;(t2-&gt;d), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t2, &amp;(t2-&gt;e), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t2, &amp;(t2-&gt;f), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t2, &amp;(t2-&gt;g), t1);</FONT></I>
<I><FONT COLOR=green></FONT></I>
<I><FONT COLOR=green>  setVMReference(t3, &amp;(t3-&gt;b), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t3, &amp;(t3-&gt;c), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t3, &amp;(t3-&gt;d), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t3, &amp;(t3-&gt;e), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t3, &amp;(t3-&gt;f), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t3, &amp;(t3-&gt;g), t1);</FONT></I>
<I><FONT COLOR=green></FONT></I>
<I><FONT COLOR=green>  setVMReference(t4, &amp;(t4-&gt;b), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t4, &amp;(t4-&gt;c), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t4, &amp;(t4-&gt;d), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t4, &amp;(t4-&gt;e), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t4, &amp;(t4-&gt;f), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t4, &amp;(t4-&gt;g), t1);</FONT></I>
<I><FONT COLOR=green></FONT></I>
<I><FONT COLOR=green>  setVMReference(t5, &amp;(t5-&gt;c), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t5, &amp;(t5-&gt;d), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t5, &amp;(t5-&gt;e), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t5, &amp;(t5-&gt;f), t1);</FONT></I>
<I><FONT COLOR=green>  setVMReference(t5, &amp;(t5-&gt;g), t1);</FONT></I>
<I><FONT COLOR=green>  */</FONT></I>

  VMObject_t *o_n, *o_k;
  Test_t *t_n, *t_k;

  <B>while</B>(1) <FONT COLOR=blue>{</FONT>
<A NAME=138>    garbageCollector-&gt;<A HREF=../D/171.html>garbageCollect</A>();
<A NAME=139>    o_n = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=140>    t_n = <B>new</B> (o_n-&gt;<A HREF=../S/13.html#450>getDataPtr</A>()) <A HREF=../D/112.html>Test_t</A>();
<A NAME=141>    o_k = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=142>    t_k = <B>new</B> (o_k-&gt;<A HREF=../S/13.html#450>getDataPtr</A>()) <A HREF=../D/112.html>Test_t</A>();
<A NAME=143>    <A HREF=../D/339.html>setVMReference</A>(t0-&gt;a, &amp;(((Test_t*)(t0-&gt;a))-&gt;c), t_n);
<A NAME=144>    <A HREF=../D/339.html>setVMReference</A>(t0-&gt;a, &amp;(((Test_t*)(t0-&gt;a))-&gt;b), t_k);
  <FONT COLOR=blue>}</FONT>
<FONT COLOR=blue>}</FONT>
</PRE>
<HR>
<A NAME=BOTTOM>
<I><FONT COLOR=green>/* [&lt;][&gt;]<A HREF=#8>[^]</A><A HREF=#25>[v]</A><A HREF=#TOP>[top]</A>[bottom]<A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>
</BODY>
</HTML>
