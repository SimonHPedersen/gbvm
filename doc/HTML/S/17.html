<HTML>
<HEAD>
<TITLE>src/gc/main_debug2.cc</TITLE>
<META NAME='ROBOTS' CONTENT='NOINDEX,NOFOLLOW'>
<META NAME='GENERATOR' CONTENT='GLOBAL-4.0.1'>
<SCRIPT LANGUAGE=javascript>
<!--
self.defaultStatus = 'src/gc/main_debug2.cc'
<!-- end of script -->
</SCRIPT>
</HEAD>
<BODY>
<A NAME=TOP><H2>src/gc/main_debug2.cc</H2>
<I><FONT COLOR=green>/* [&lt;][&gt;]<A HREF=#8>[^]</A><A HREF=#21>[v]</A>[top]<A HREF=#BOTTOM>[bottom]</A><A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>
<HR>
<H2>DEFINITIONS</H2>
This source file includes following functions.
<OL>
<LI><A HREF=#8>Test_t</A>
<LI><A HREF=#21>main</A>
</OL>
<HR>
<PRE>
<I><FONT COLOR=green>//$Id: main_debug2.cc,v 1.5 2000/12/06 14:55:07 ilsoe Exp $</FONT></I>
<FONT COLOR=darkred>#include</FONT> &lt;stdlib.h&gt;
<FONT COLOR=darkred>#include</FONT> &lt;stdio.h&gt;
<FONT COLOR=darkred>#include</FONT> &lt;iostream.h&gt;

<FONT COLOR=darkred>#include</FONT> "garbage_collector.hpp"

<A NAME=8><B>class</B> <A HREF=../R/107.html>Test_t</A> <FONT COLOR=blue>{</FONT>
<I><FONT COLOR=green>/* [&lt;]<A HREF=#21>[&gt;]</A>[^]<A HREF=#21>[v]</A><A HREF=#TOP>[top]</A><A HREF=#BOTTOM>[bottom]</A><A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>
<B>public</B>:
  <B>void</B> *<B>operator</B> <B>new</B>(size_t size, <B>void</B> *freePointer) <FONT COLOR=blue>{</FONT>
    <B>return</B> freePointer;
  <FONT COLOR=blue>}</FONT>
  Test_t() <FONT COLOR=blue>{</FONT>

  <FONT COLOR=blue>}</FONT>
  <B>void</B> *a;
  <B>void</B> *b;
  <B>void</B> *c;
<FONT COLOR=blue>}</FONT>;

<A NAME=21><B>int</B> main(<B>int</B> argc, <B>char</B>** argv) <FONT COLOR=blue>{</FONT>
<I><FONT COLOR=green>/* <A HREF=#8>[&lt;]</A>[&gt;]<A HREF=#8>[^]</A>[v]<A HREF=#TOP>[top]</A><A HREF=#BOTTOM>[bottom]</A><A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>

  DB_ENABLE(gc_gc);
  DB_ENABLE(gc_mg);
  DB_ENABLE(gc_mg_heapdump);
  DB_ENABLE(gc_remset_dump);
  DB_ENABLE(gc_car);
  DB_ENABLE(gc_car_delete);
  DB_ENABLE(gc_vmo);
  DB_ENABLE(gc_vmo_dump_refs);
  <I><FONT COLOR=green>//DB_ENABLE(gc_vmo_mro_verb);</FONT></I>
  DB_ENABLE(gc_trn);
  DB_ENABLE(gc_objd);
  DB_ENABLE(gc_glob_setvmr);

<A NAME=36>  ObjectDescriptor_t *objDes = <B>new</B> <A HREF=../D/101.html>ObjectDescriptor_t</A>(300,0);
  
  <I><FONT COLOR=green>//objDes-&gt;print();</FONT></I>

<A NAME=40>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(0);
<A NAME=41>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(1);
<A NAME=42>  objDes-&gt;<A HREF=../S/22.html#90>setReferenceAt</A>(2);
  
  <I><FONT COLOR=green>//objDes-&gt;print();</FONT></I>

  <I><FONT COLOR=green>//test 2 BYTES_IN_CAR should be 1024 with 2 cars in train, objDes should be 300</FONT></I>
  
<A NAME=48>  VMObject_t *o0 = garbageCollector-&gt;<A HREF=../D/133.html>addRootObject</A>(objDes);
<A NAME=49>  Test_t     *t0 = <B>new</B> (o0-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=51>  VMObject_t *o1 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=52>  Test_t     *t1 = <B>new</B> (o1-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=54>  VMObject_t *o2 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=55>  Test_t     *t2 = <B>new</B> (o2-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
<A NAME=57>  VMObject_t *o3 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=58>  Test_t     *t3 = <B>new</B> (o3-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=60>  VMObject_t *o4 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=61>  Test_t     *t4 = <B>new</B> (o4-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=63>  VMObject_t *o5 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=64>  Test_t     *t5 = <B>new</B> (o5-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=66>  VMObject_t *o6 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=67>  Test_t     *t6 = <B>new</B> (o6-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=69>  VMObject_t *o7 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=70>  Test_t     *t7 = <B>new</B> (o7-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=72>  VMObject_t *o8 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=73>  Test_t     *t8 = <B>new</B> (o8-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=75>  VMObject_t *o9 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=76>  Test_t     *t9 = <B>new</B> (o9-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=78>  VMObject_t *o10 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=79>  Test_t     *t10 = <B>new</B> (o10-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=81>  VMObject_t *o11 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=82>  Test_t     *t11 = <B>new</B> (o11-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();

<A NAME=84>  VMObject_t *o12 = garbageCollector-&gt;<A HREF=../D/128.html>addNewObject</A>(objDes);
<A NAME=85>  Test_t     *t12 = <B>new</B> (o12-&gt;<A HREF=../S/13.html#450>getDataPtr</A>())<A HREF=../D/112.html>Test_t</A>();
  
  cout &lt;&lt; "main debug: starting to set references\n";
<A NAME=88>  <A HREF=../D/339.html>setVMReference</A>(t0, &amp;(t0-&gt;a), t11);
<A NAME=89>  <A HREF=../D/339.html>setVMReference</A>(t1, &amp;(t1-&gt;a), t3);
<A NAME=90>  <A HREF=../D/339.html>setVMReference</A>(t3, &amp;(t3-&gt;a), t1);
<A NAME=91>  <A HREF=../D/339.html>setVMReference</A>(t4, &amp;(t4-&gt;a), t2);
<A NAME=92>  <A HREF=../D/339.html>setVMReference</A>(t5, &amp;(t5-&gt;a), t7);
<A NAME=93>  <A HREF=../D/339.html>setVMReference</A>(t6, &amp;(t6-&gt;a), t5);
<A NAME=94>  <A HREF=../D/339.html>setVMReference</A>(t7, &amp;(t7-&gt;a), t6);
<A NAME=95>  <A HREF=../D/339.html>setVMReference</A>(t7, &amp;(t7-&gt;b), t10);
<A NAME=96>  <A HREF=../D/339.html>setVMReference</A>(t8, &amp;(t8-&gt;a), t4);
<A NAME=97>  <A HREF=../D/339.html>setVMReference</A>(t9, &amp;(t9-&gt;a), t5);
<A NAME=98>  <A HREF=../D/339.html>setVMReference</A>(t10, &amp;(t10-&gt;a), t9);
<A NAME=99>  <A HREF=../D/339.html>setVMReference</A>(t11, &amp;(t11-&gt;a), t8);
<A NAME=100>  <A HREF=../D/339.html>setVMReference</A>(t12, &amp;(t12-&gt;a), t12);
  cout &lt;&lt; "main debug: references set\n";

  <B>while</B>(1) <FONT COLOR=blue>{</FONT>
<A NAME=104>    garbageCollector-&gt;<A HREF=../D/171.html>garbageCollect</A>();
  <FONT COLOR=blue>}</FONT>
<FONT COLOR=blue>}</FONT>
</PRE>
<HR>
<A NAME=BOTTOM>
<I><FONT COLOR=green>/* [&lt;][&gt;]<A HREF=#8>[^]</A><A HREF=#21>[v]</A><A HREF=#TOP>[top]</A>[bottom]<A HREF=../mains.html>[index]</A><A HREF=../help.html>[help]</A> */</FONT></I>
</BODY>
</HTML>
